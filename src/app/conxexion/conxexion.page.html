<section class="container forms">
  <div class="form login">
    <h1 style="color: white;">&nbsp; DevsCiwara</h1>
    <div class="form-content">
      <header>Connexion</header>
      <form id="stripe-login" *ngIf="!connexionReussi" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm"
        novalidate>
        <div *ngIf="f.submitted && connexionEchoue" class="erreur">
          &nbsp; Mot de passe ou pseudo incorrect
        </div>
        <div class="erreur" *ngIf="usernameOrEmail.errors && f.submitted" class="invalid-feedback" class="erreur">
          &nbsp; Champ Email ou pseudo obligatoire !!
        </div>
        <div *ngIf="password.errors && f.submitted" class="invalid-feedback">
          <div color="red" *ngIf="password.errors['required']" class="erreur">&nbsp; Mot de
            passe obligatoir</div>
          <div *ngIf="password.errors['minlength']" class="err">
            &nbsp; Le mot de passe doit contenir au mois 6 caracters
          </div>
        </div>
        <div class="field input-field" style="margin-bottom: 10%;">
          <label for="email">Email ou pseudo <b style="color:red">*</b> </label>
          <input type="text" name="usernameOrEmail" [(ngModel)]="form.usernameOrEmail" required
            #usernameOrEmail="ngModel" [ngClass]="{ 'is-invalid': f.submitted && usernameOrEmail.errors }" />

        </div>
        <style>
          .erreur {
            color: #000;
            font-size: .8em;
            border-left: 5px solid red;
            box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;
            margin-bottom: 2%;
          }
        </style>

        <div class="field input-field">
          <label for="password">Mot de passe<b style="color:red">*</b></label>

          <input [type]="type ? 'password' : 'text'" name="password" [(ngModel)]="form.password" required minlength="6"
            #password="ngModel" [ngClass]="{ 'is-invalid': f.submitted && password.errors }">


          <i (click)="changeType()" class='bx bx-hide eye-icon'></i>
        </div>

        <div class="form-link" style="margin-top:20%">
          <a class="forgot-pass" (click)="openModal()">Mot de passe oublié?</a>
        </div>

        <div class="field button-field">
          <button>Se connecter</button>
        </div>
        <div *ngIf="f.submitted && connexionEchoue" class="alert alert-danger" role="alert">
          connextion echoué: {{ messageErreur }}
        </div>
      </form>

      <div class="form-link">
        <span>Vous n'avez pas de compte? <a class="link signup-link" (click)="openModalIn()">S'inscrire</a></span>
      </div>
    </div>

    <div class="line"></div>
  </div>

</section>